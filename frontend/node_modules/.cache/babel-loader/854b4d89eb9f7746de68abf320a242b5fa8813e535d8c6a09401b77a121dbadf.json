{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{TermoService}from'../services/api';import logo from'../assets/images/Logo.png';import'./TermoURL.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TermoURL=()=>{const{id}=useParams();const navigate=useNavigate();const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[termo,setTermo]=useState(null);const[copied,setCopied]=useState(false);useEffect(()=>{const carregarTermo=async()=>{if(!id)return;try{const data=await TermoService.buscarPorId(id);setTermo({nome:data.nome,email:data.email});}catch(err){console.error('Erro ao carregar termo:',err);setError('Não foi possível carregar os detalhes do termo.');}finally{setLoading(false);}};carregarTermo();},[id]);const urlAssinatura=id?TermoService.gerarLinkAssinatura(id):'';const handleCopyUrl=async()=>{try{await navigator.clipboard.writeText(urlAssinatura);setCopied(true);setTimeout(()=>setCopied(false),3000);}catch(err){console.error('Erro ao copiar URL:',err);setError('Não foi possível copiar a URL. Por favor, tente manualmente.');}};const handleVoltar=()=>{navigate('/dashboard');};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"termo-url-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"})]});}if(error||!termo){return/*#__PURE__*/_jsxs(\"div\",{className:\"termo-url-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error||'Termo não encontrado'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVoltar,className:\"voltar-button\",children:\"Voltar ao Dashboard\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"termo-url-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"termo-url-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Termo Criado com Sucesso!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"termo-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nome:\"}),\" \",termo.nome]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",termo.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"url-label\",children:\"Link para assinatura:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urlAssinatura,readOnly:true,className:\"url-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyUrl,className:`copy-button ${copied?'copied':''}`,children:copied?'Copiado!':'Copiar'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVoltar,className:\"voltar-button\",children:\"Voltar ao Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open(`/termo/${id}`,'_blank'),className:\"visualizar-button\",children:\"Visualizar Termo\"})]})]})]});};export default TermoURL;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","TermoService","logo","jsx","_jsx","jsxs","_jsxs","TermoURL","id","navigate","loading","setLoading","error","setError","termo","setTermo","copied","setCopied","carregarTermo","data","buscarPorId","nome","email","err","console","urlAssinatura","gerarLinkAssinatura","handleCopyUrl","navigator","clipboard","writeText","setTimeout","handleVoltar","className","children","onClick","src","alt","type","value","readOnly","window","open"],"sources":["C:/Users/tecnico25/Desktop/agilsign/frontend/src/components/TermoURL.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { TermoService } from '../services/api';\r\nimport logo from '../assets/images/Logo.png';\r\nimport './TermoURL.css';\r\n\r\nconst TermoURL: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [termo, setTermo] = useState<{ nome: string; email: string } | null>(null);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const carregarTermo = async () => {\r\n      if (!id) return;\r\n      \r\n      try {\r\n        const data = await TermoService.buscarPorId(id);\r\n        setTermo({\r\n          nome: data.nome,\r\n          email: data.email\r\n        });\r\n      } catch (err) {\r\n        console.error('Erro ao carregar termo:', err);\r\n        setError('Não foi possível carregar os detalhes do termo.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    carregarTermo();\r\n  }, [id]);\r\n\r\n  const urlAssinatura = id ? TermoService.gerarLinkAssinatura(id) : '';\r\n\r\n  const handleCopyUrl = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(urlAssinatura);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 3000);\r\n    } catch (err) {\r\n      console.error('Erro ao copiar URL:', err);\r\n      setError('Não foi possível copiar a URL. Por favor, tente manualmente.');\r\n    }\r\n  };\r\n\r\n  const handleVoltar = () => {\r\n    navigate('/dashboard');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"termo-url-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Carregando...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !termo) {\r\n    return (\r\n      <div className=\"termo-url-container\">\r\n        <div className=\"error-message\">\r\n          {error || 'Termo não encontrado'}\r\n        </div>\r\n        <button onClick={handleVoltar} className=\"voltar-button\">\r\n          Voltar ao Dashboard\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"termo-url-container\">\r\n      <div className=\"logo-container\">\r\n        <img src={logo} alt=\"Logo\" />\r\n      </div>\r\n      <div className=\"termo-url-card\">\r\n        <div className=\"success-icon\">✓</div>\r\n        <h2>Termo Criado com Sucesso!</h2>\r\n        \r\n        <div className=\"termo-info\">\r\n          <p><strong>Nome:</strong> {termo.nome}</p>\r\n          <p><strong>Email:</strong> {termo.email}</p>\r\n        </div>\r\n\r\n        <div className=\"url-section\">\r\n          <p className=\"url-label\">Link para assinatura:</p>\r\n          <div className=\"url-box\">\r\n            <input\r\n              type=\"text\"\r\n              value={urlAssinatura}\r\n              readOnly\r\n              className=\"url-input\"\r\n            />\r\n            <button\r\n              onClick={handleCopyUrl}\r\n              className={`copy-button ${copied ? 'copied' : ''}`}\r\n            >\r\n              {copied ? 'Copiado!' : 'Copiar'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"actions\">\r\n          <button onClick={handleVoltar} className=\"voltar-button\">\r\n            Voltar ao Dashboard\r\n          </button>\r\n          <button\r\n            onClick={() => window.open(`/termo/${id}`, '_blank')}\r\n            className=\"visualizar-button\"\r\n          >\r\n            Visualizar Termo\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermoURL; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}