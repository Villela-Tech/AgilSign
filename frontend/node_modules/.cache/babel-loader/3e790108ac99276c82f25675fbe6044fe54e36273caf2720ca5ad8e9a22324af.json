{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{TermoService}from'../services/api';import'./ConfirmacaoAssinatura.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConfirmacaoAssinatura=()=>{const{id}=useParams();const navigate=useNavigate();const[termo,setTermo]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const carregarTermo=async()=>{try{if(!id)return;const data=await TermoService.buscarPorId(id);if(data.status!=='assinado'){setError('Este termo ainda não foi assinado.');return;}setTermo(data);}catch(err){setError('Erro ao carregar o termo. Por favor, tente novamente.');console.error('Erro ao carregar termo:',err);}finally{setLoading(false);}};carregarTermo();},[id]);const handleVoltar=()=>{// Se o usuário entrou pelo link de assinatura, volta para a tela inicial\nnavigate('/');};const handleVisualizarTermo=()=>{if(termo){navigate(`/visualizar/${termo.id}`);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"confirmacao-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"})]});}if(error||!termo){return/*#__PURE__*/_jsx(\"div\",{className:\"confirmacao-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[error||'Termo não encontrado',/*#__PURE__*/_jsx(\"button\",{onClick:handleVoltar,className:\"voltar-button\",children:\"Voltar\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"confirmacao-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"logo-text\",children:\"AgilSign\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmacao-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"confirmacao-title\",children:\"Assinatura Confirmada!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"confirmacao-message\",children:\"Seu documento foi assinado com sucesso.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmacao-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Nome:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[termo.nome,\" \",termo.sobrenome]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:termo.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Data:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date().toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"assinatura-preview\",children:/*#__PURE__*/_jsx(\"img\",{src:termo.assinatura,alt:\"Assinatura\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmacao-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVoltar,className:\"voltar-button\",children:\"Concluir\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVisualizarTermo,className:\"visualizar-button\",children:\"Visualizar Termo\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"copyright\",children:\"\\xA9 Desenvolvido por Villela Tech\"})]});};export default ConfirmacaoAssinatura;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","TermoService","jsx","_jsx","jsxs","_jsxs","ConfirmacaoAssinatura","id","navigate","termo","setTermo","loading","setLoading","error","setError","carregarTermo","data","buscarPorId","status","err","console","handleVoltar","handleVisualizarTermo","className","children","onClick","nome","sobrenome","email","Date","toLocaleDateString","day","month","year","hour","minute","src","assinatura","alt"],"sources":["C:/Users/tecnico25/Desktop/agilsign/src/components/ConfirmacaoAssinatura.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { TermoService, TermoDetalhes } from '../services/api';\r\nimport './ConfirmacaoAssinatura.css';\r\n\r\nconst ConfirmacaoAssinatura: React.FC = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [termo, setTermo] = useState<TermoDetalhes | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const carregarTermo = async () => {\r\n      try {\r\n        if (!id) return;\r\n        const data = await TermoService.buscarPorId(id);\r\n        \r\n        if (data.status !== 'assinado') {\r\n          setError('Este termo ainda não foi assinado.');\r\n          return;\r\n        }\r\n        \r\n        setTermo(data);\r\n      } catch (err) {\r\n        setError('Erro ao carregar o termo. Por favor, tente novamente.');\r\n        console.error('Erro ao carregar termo:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    carregarTermo();\r\n  }, [id]);\r\n\r\n  const handleVoltar = () => {\r\n    // Se o usuário entrou pelo link de assinatura, volta para a tela inicial\r\n    navigate('/');\r\n  };\r\n\r\n  const handleVisualizarTermo = () => {\r\n    if (termo) {\r\n      navigate(`/visualizar/${termo.id}`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"confirmacao-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Carregando...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !termo) {\r\n    return (\r\n      <div className=\"confirmacao-container\">\r\n        <div className=\"error-message\">\r\n          {error || 'Termo não encontrado'}\r\n          <button onClick={handleVoltar} className=\"voltar-button\">\r\n            Voltar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"confirmacao-container\">\r\n      <h1 className=\"logo-text\">AgilSign</h1>\r\n      \r\n      <div className=\"confirmacao-card\">\r\n        <div className=\"success-icon\">✓</div>\r\n        <h2 className=\"confirmacao-title\">Assinatura Confirmada!</h2>\r\n        <p className=\"confirmacao-message\">\r\n          Seu documento foi assinado com sucesso.\r\n        </p>\r\n        \r\n        <div className=\"confirmacao-details\">\r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Nome:</span>\r\n            <span className=\"detail-value\">{termo.nome} {termo.sobrenome}</span>\r\n          </div>\r\n          \r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Email:</span>\r\n            <span className=\"detail-value\">{termo.email}</span>\r\n          </div>\r\n          \r\n          <div className=\"detail-item\">\r\n            <span className=\"detail-label\">Data:</span>\r\n            <span className=\"detail-value\">\r\n              {new Date().toLocaleDateString('pt-BR', {\r\n                day: '2-digit',\r\n                month: '2-digit',\r\n                year: 'numeric',\r\n                hour: '2-digit',\r\n                minute: '2-digit'\r\n              })}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"assinatura-preview\">\r\n          <img src={termo.assinatura} alt=\"Assinatura\" />\r\n        </div>\r\n        \r\n        <div className=\"confirmacao-actions\">\r\n          <button onClick={handleVoltar} className=\"voltar-button\">\r\n            Concluir\r\n          </button>\r\n          <button onClick={handleVisualizarTermo} className=\"visualizar-button\">\r\n            Visualizar Termo\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <p className=\"copyright\">© Desenvolvido por Villela Tech</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmacaoAssinatura; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}